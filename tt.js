(()=>{"use strict";class t{constructor(t){this.body=t.body,this.queries=t.queries,this.headers=t.headers,this.method=t.method,this.path=t.path,this.secret=t.secret}async json(){return JSON.parse(this.body)}}class s{constructor(t,s){this.status=s?.status??200,this.body=t,this.headers={"Content-Type":"application/json","Access-Control-Allow-Origin":"*",...s?.headers}}}async function o(t){return new s("Only POST Implemented")}async function e(t){const o=await t.json();let e;console.log(o);try{const t=await fetch("https://api.mbd.xyz/v1/farcaster/casts/labels/for-text",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json","X-Api-Key":"mbd-028f111dcf6a58416b90eca26ce47723f02df2efa0c88ee87722b33c85c6034a"},body:JSON.stringify({text_inputs:[JSON.stringify(o)],label_category:"topics"})});e=await t.json()}catch(t){console.error("Error fetching chat completion:",t),e={error:t}}console.log("NIGGGAA"),console.log(JSON.stringify(e.body));const n=e.body[0];return console.log(n),console.log("Sorted Labels"),n.sort(((t,s)=>s.score-t.score)),console.log(n),console.log("Top 5 Labels"),console.log(n.slice(0,5)),new s(JSON.stringify(n.slice(0,5)))}(async function(n){return await async function(o,e){const n=JSON.parse(e);let c;const a=n.method,i=new t(n);return"GET"==a&&o.GET?c=await o.GET(i):"POST"==a&&o.POST?c=await o.POST(i):"PATCH"==a&&o.PATCH?c=await o.PATCH(i):"PUT"==a&&o.PUT?c=await o.PUT(i):(c=new s("Not Found"),c.status=404),JSON.stringify(c)}({GET:o,POST:e},n)}).apply(null,globalThis.scriptArgs).then((t=>globalThis.scriptOutput=t))})();